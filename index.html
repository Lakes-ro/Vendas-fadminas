<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Fadvendas </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .animate-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
    </style>
</head>
<body class="bg-[#0b0f1a] text-slate-200 flex min-h-screen font-sans">

    <aside class="w-20 lg:w-64 border-r border-slate-800/50 p-4 flex flex-col sticky top-0 h-screen bg-[#0b0f1a] z-[100]">
        <div class="text-blue-500 font-black text-xl mb-10 italic tracking-tighter text-center lg:text-left">
            TÁ COM FOME?
        </div>
        
        <nav class="flex-1 space-y-2">
    <button onclick="showTab('market')" class="w-full flex items-center gap-4 p-4 rounded-2xl">
        <i data-lucide="shopping-bag"></i>
        <span class="font-bold text-sm">LOJA</span> </button>
    <button onclick="showTab('admin')" class="w-full flex items-center gap-4 p-4 rounded-2xl">
        <i data-lucide="shield-check"></i>
        <span class="font-bold text-sm">ADMIN</span> </button>
    <button onclick="showTab('ads-manager')" class="w-full flex items-center gap-4 p-4 rounded-2xl">
        <i data-lucide="megaphone"></i>
        <span class="font-bold text-sm">ANÚNCIOS</span> </button>
</nav>

        <button onclick="toggleCart()" class="relative p-4 bg-slate-900 border border-slate-800 rounded-2xl flex items-center justify-center gap-3 hover:border-blue-500/50 transition-all">
            <i data-lucide="shopping-cart" class="text-blue-500"></i>
            <span id="cart-count" class="absolute -top-1 -right-1 bg-blue-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-black">0</span>
        </button>
    </aside>

    <main class="flex-1 p-6 overflow-x-hidden">
        <section id="market-section" class="animate-in">
            <div id="hero-ads" class="mb-12 w-full h-48 bg-gradient-to-r from-blue-900 to-slate-900 rounded-[32px] relative border border-white/5 flex items-center p-8 overflow-hidden">
                <div class="relative z-10">
                    <span class="bg-blue-500 text-[10px] font-black px-3 py-1 rounded-full text-white uppercase tracking-widest">Destaque</span>
                    <h2 id="ad-title" class="text-3xl font-black text-white mt-2 leading-none uppercase">Oferta Especial</h2>
                    <p id="ad-desc" class="text-slate-400 mt-2 text-sm font-medium">Os melhores produtos selecionados para você.</p>
                </div>
                <div class="absolute right-0 top-0 h-full w-1/2 bg-blue-500/10 blur-3xl rounded-full"></div>
            </div>

            <h2 class="text-3xl font-black mb-8 tracking-tighter">Marketplace_</h2>
            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </section>

        <section id="admin-section" class="hidden animate-in">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-black text-red-500 tracking-tighter uppercase">Painel de Controle</h2>
                <button onclick="openModal()" class="bg-white text-black px-6 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all">Novo Item</button>
            </div>
            <div id="admin-list" class="space-y-3 max-w-2xl"></div>
        </section>

        <section id="ads-section" class="hidden animate-in">
            <h2 class="text-3xl font-black text-yellow-500 mb-8 tracking-tighter uppercase">Gerenciar Anúncios</h2>
            <div class="bg-slate-900/50 p-8 rounded-[32px] border border-white/5 max-w-md">
                <div class="space-y-4">
                    <label class="text-[10px] font-black text-slate-500 uppercase tracking-widest px-1">Texto Principal</label>
                    <input type="text" id="ad-input-title" placeholder="Título do Banner" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-yellow-500 transition-all">
                    
                    <label class="text-[10px] font-black text-slate-500 uppercase tracking-widest px-1">Subtexto</label>
                    <textarea id="ad-input-desc" placeholder="Breve descrição da oferta" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none h-24 focus:ring-2 ring-yellow-500 transition-all"></textarea>
                    
                    <button onclick="updateLiveAd()" class="w-full bg-yellow-600 py-4 rounded-2xl font-black text-white shadow-lg shadow-yellow-500/20 hover:bg-yellow-500 transition-all">ATUALIZAR BANNER</button>
                </div>
            </div>
        </section>
    </main>

    <div id="admin-modal" class="hidden fixed inset-0 z-[2000] bg-black/90 flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-[#161b2c] p-6 rounded-[32px] w-full max-w-md border border-slate-800 shadow-2xl">
            <h3 class="text-xl font-black mb-6 uppercase tracking-widest text-white">Cadastrar Item</h3>
            <form onsubmit="saveProduct(event)" class="space-y-4">
                <input type="text" id="p-name" placeholder="Nome do Produto" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-blue-500" required>
                <input type="number" id="p-price" placeholder="Valor (R$)" step="0.01" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-blue-500" required>
                <textarea id="p-desc" placeholder="Descrição (Opcional)" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-blue-500 h-20"></textarea>
                
                <div class="bg-slate-900 p-4 rounded-2xl border-2 border-dashed border-slate-700">
                    <label class="block text-[10px] font-black text-slate-500 mb-2 uppercase tracking-widest text-center">Imagem do Produto</label>
                    <input type="file" id="p-image" accept="image/*" class="text-xs text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-500 cursor-pointer">
                </div>

                <div class="flex gap-3 pt-4">
                    <button type="button" onclick="closeModal()" class="flex-1 p-4 bg-slate-800 rounded-2xl font-bold hover:bg-slate-700 transition-all">VOLTAR</button>
                    <button type="submit" id="btn-save" class="flex-1 p-4 bg-blue-600 rounded-2xl font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-500 transition-all uppercase text-xs tracking-widest text-white">Salvar Item</button>
                </div>
            </form>
        </div>
    </div>

    <div id="customer-modal" class="hidden fixed inset-0 z-[3000] bg-black/95 flex items-center justify-center p-4 backdrop-blur-md">
        <div class="bg-[#161b2c] p-8 rounded-[40px] w-full max-w-sm border border-slate-800 shadow-2xl">
            <h3 class="text-2xl font-black mb-6 uppercase tracking-tighter text-white">Finalizar Pedido</h3>
            <form onsubmit="sendOrder(event)" class="space-y-4">
                <input type="text" id="cust-name" placeholder="Seu Nome" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-blue-500" required>
                <input type="text" id="cust-address" placeholder="Alguma observação? (Opcional)" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-blue-500" required>
                
                <div class="space-y-1">
                    <label class="text-[10px] font-black text-slate-500 uppercase tracking-widest px-2">Pagamento</label>
                    <select id="cust-payment" class="w-full bg-slate-900 p-4 rounded-2xl text-white outline-none focus:ring-2 ring-blue-500 appearance-none" required>
                        <option value="Pix">Pix (Rápido)</option>
                    <!--<option value="Cartão de Crédito">Cartão de Crédito</option> -->
                    <!--<option value="Cartão de Débito">Cartão de Débito</option> -->
                        <option value="Dinheiro">Dinheiro</option>
                    </select>
                </div>

                <button type="submit" class="w-full p-4 bg-green-600 rounded-2xl font-black text-white shadow-lg shadow-green-500/20 hover:bg-green-500 transition-all uppercase tracking-widest text-xs mt-4">Confirmar no WhatsApp</button>
                <button type="button" onclick="closeCustomerModal()" class="w-full p-2 text-slate-500 text-xs font-bold uppercase tracking-widest">Voltar</button>
            </form>
        </div>
    </div>

    <div id="cart-drawer" class="fixed right-0 top-0 h-screen w-80 bg-[#0f172a] border-l border-slate-800 translate-x-full transition-transform z-[1000] p-6 flex flex-col shadow-2xl">
        <div class="flex justify-between items-center mb-10">
            <h3 class="text-xl font-black tracking-tighter italic">CARRINHO_</h3>
            <button onclick="toggleCart()" class="text-slate-500 hover:text-white transition-all"><i data-lucide="x"></i></button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto space-y-3 pr-2"></div>
        <div class="pt-6 border-t border-slate-800 mt-4">
            <div id="cart-total" class="text-3xl font-black text-blue-500 mb-6 text-center tracking-tighter">R$ 0,00</div>
            <button onclick="checkout()" class="w-full bg-blue-600 py-4 rounded-2xl font-black text-white shadow-lg shadow-blue-500/20 hover:bg-blue-500 transition-all uppercase text-xs tracking-widest">Fechar Pedido</button>
        </div>
    </aside>

    <script src="script.js"></script>
</body>
</html>
